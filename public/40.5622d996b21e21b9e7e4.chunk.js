webpackJsonp([40],{"./app/containers/DomainListPage/sagas.js":function(e,r,t){"use strict";function n(e){var r,n,a,s,i,u,p,d;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return r=e.api,n=e.agentId,a=e.page,s=e.filter,i=0,u=-1,(a||0===a)&&(i=10*a,u=i+10),g.prev=4,g.next=7,t.i(c.call)(r.agent.getAgentIdDomain,{id:n.toString().split("~")[0],start:i,limit:u,filter:s});case 7:return p=g.sent,g.next=10,t.i(c.put)(t.i(o.O)(p.obj));case 10:g.next=27;break;case 12:if(g.prev=12,g.t0=g.catch(4),d={err:g.t0},!d.err||"Failed to fetch"!==d.err.message){g.next=20;break}return g.next=18,t.i(c.put)(t.i(o.P)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 18:g.next=27;break;case 20:if(!d.err.response.obj||!d.err.response.obj.message){g.next=25;break}return g.next=23,t.i(c.put)(t.i(o.P)({message:d.err.response.obj.message}));case 23:g.next=27;break;case 25:return g.next=27,t.i(c.put)(t.i(o.P)({message:"Unknow API error"}));case 27:return g.prev=27,g.next=30,t.i(c.cancelled)();case 30:if(!g.sent){g.next=31;break}case 31:return g.finish(27);case 32:case"end":return g.stop()}},g,this,[[4,12,27,32]])}function a(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.i(c.takeLatest)(u.k,n);case 2:e=r.sent;case 3:case"end":return r.stop()}},d,this)}function s(){var e,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=regeneratorRuntime.mark(function e(r){var a,s,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.api,s=r.id,e.next=3,t.i(c.select)(t.i(p.g)());case 3:return i=e.sent,e.prev=4,e.next=7,t.i(c.call)(a.domain.deleteDomainId,{id:s});case 7:return e.next=9,t.i(c.put)(t.i(o.Q)());case 9:return e.next=11,t.i(c.call)(n,{api:a,agentId:i.id});case 11:e.next=28;break;case 13:if(e.prev=13,e.t0=e.catch(4),u={err:e.t0},!u.err||"Failed to fetch"!==u.err.message){e.next=21;break}return e.next=19,t.i(c.put)(t.i(o.R)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 19:e.next=28;break;case 21:if(!u.err.response.obj||!u.err.response.obj.message){e.next=26;break}return e.next=24,t.i(c.put)(t.i(o.R)({message:u.err.response.obj.message}));case 24:e.next=28;break;case 26:return e.next=28,t.i(c.put)(t.i(o.R)({message:"Unknow API error"}));case 28:case"end":return e.stop()}},e,this,[[4,13]])}),a.next=3,t.i(c.takeLatest)(u.U,e);case 3:return r=a.sent,a.next=6,t.i(c.take)(i.LOCATION_CHANGE);case 6:return a.next=8,t.i(c.cancel)(r);case 8:case"end":return a.stop()}},x,this)}Object.defineProperty(r,"__esModule",{value:!0});var i=t("./node_modules/react-router-redux/lib/index.js"),c=(t.n(i),t("./node_modules/redux-saga/effects.js")),o=(t.n(c),t("./app/containers/App/actions.js")),u=t("./app/containers/App/constants.js"),p=t("./app/containers/App/selectors.js");r.getAgentDomains=n,r.loadAgentDomains=a,r.deleteDomain=s;var g=regeneratorRuntime.mark(n),d=regeneratorRuntime.mark(a),x=regeneratorRuntime.mark(s);r.default=[a,s]}});
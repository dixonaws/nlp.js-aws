webpackJsonp([36],{"./app/containers/EntityListPage/sagas.js":function(e,t,r){"use strict";function n(e){var t,n,a,s,c,o,x,d,f,l,m;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.api,n=e.agentId,a=e.page,s=e.filter,c=e.forIntentEdit,o=0,x=-1,(a||0===a)&&(o=10*a,x=o+10),g.prev=4,g.next=7,r.i(u.call)(t.agent.getAgentIdEntity,{id:n.toString().split("~")[0],start:o,limit:x,filter:s});case 7:return d=g.sent,f=d.obj,g.next=11,r.i(u.put)(r.i(p.u)(f));case 11:if(c){g.next=15;break}return g.next=14,f.entities.map(function(e){return r.i(u.call)(i,{api:t,id:e.id})});case 14:l=g.sent;case 15:g.next=32;break;case 17:if(g.prev=17,g.t0=g.catch(4),m={err:g.t0},!m.err||"Failed to fetch"!==m.err.message){g.next=25;break}return g.next=23,r.i(u.put)(r.i(p.v)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 23:g.next=32;break;case 25:if(!m.err.response.obj||!m.err.response.obj.message){g.next=30;break}return g.next=28,r.i(u.put)(r.i(p.v)({message:m.err.response.obj.message}));case 28:g.next=32;break;case 30:return g.next=32,r.i(u.put)(r.i(p.v)({message:"Unknow API error"}));case 32:return g.prev=32,g.next=35,r.i(u.cancelled)();case 35:if(!g.sent){g.next=36;break}case 36:return g.finish(32);case 37:case"end":return g.stop()}},g,this,[[4,17,32,37]])}function a(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.i(u.takeLatest)(x.o,n);case 2:return e=t.sent,t.next=5,r.i(u.take)(o.LOCATION_CHANGE);case 5:return t.next=7,r.i(u.cancel)(e);case 7:case"end":return t.stop()}},f,this)}function s(){var e,t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=regeneratorRuntime.mark(function e(t){var a,s,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.api,s=t.id,e.next=3,r.i(u.select)(r.i(d.g)());case 3:return i=e.sent,e.prev=4,e.next=7,r.i(u.call)(a.entity.deleteEntityId,{id:s});case 7:return e.next=9,r.i(u.put)(r.i(p.w)());case 9:return e.next=11,r.i(u.call)(n,{api:a,agentId:i.id});case 11:e.next=28;break;case 13:if(e.prev=13,e.t0=e.catch(4),c={err:e.t0},!c.err||"Failed to fetch"!==c.err.message){e.next=21;break}return e.next=19,r.i(u.put)(r.i(p.x)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 19:e.next=28;break;case 21:if(!c.err.response.obj||!c.err.response.obj.message){e.next=26;break}return e.next=24,r.i(u.put)(r.i(p.x)({message:c.err.response.obj.message}));case 24:e.next=28;break;case 26:return e.next=28,r.i(u.put)(r.i(p.x)({message:"Unknow API error"}));case 28:case"end":return e.stop()}},e,this,[[4,13]])}),a.next=3,r.i(u.takeLatest)(x._3,e);case 3:return t=a.sent,a.next=6,r.i(u.take)(o.LOCATION_CHANGE);case 6:return a.next=8,r.i(u.cancel)(t);case 8:case"end":return a.stop()}},l,this)}function i(e){var t,n,a,s,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.api,n=e.id,c.prev=1,c.next=4,r.i(u.call)(t.entity.getEntityIdIntent,{id:n});case 4:return a=c.sent,s=a.obj,c.next=8,r.i(u.put)(r.i(p.y)({id:n,intents:s}));case 8:c.next=25;break;case 10:if(c.prev=10,c.t0=c.catch(1),i={err:c.t0},!i.err||"Failed to fetch"!==i.err.message){c.next=18;break}return c.next=16,r.i(u.put)(r.i(p.z)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 16:c.next=25;break;case 18:if(!i.err.response.obj||!i.err.response.obj.message){c.next=23;break}return c.next=21,r.i(u.put)(r.i(p.z)({message:i.err.response.obj.message}));case 21:c.next=25;break;case 23:return c.next=25,r.i(u.put)(r.i(p.z)({message:"Unknow API error"}));case 25:return c.prev=25,c.next=28,r.i(u.cancelled)();case 28:if(!c.sent){c.next=29;break}case 29:return c.finish(25);case 30:case"end":return c.stop()}},m,this,[[1,10,25,30]])}function c(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.i(u.takeLatest)(x._28,i);case 2:return e=t.sent,t.next=5,r.i(u.take)(o.LOCATION_CHANGE);case 5:return t.next=7,r.i(u.cancel)(e);case 7:case"end":return t.stop()}},k,this)}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-router-redux/lib/index.js"),u=(r.n(o),r("./node_modules/redux-saga/effects.js")),p=(r.n(u),r("./app/containers/App/actions.js")),x=r("./app/containers/App/constants.js"),d=r("./app/containers/App/selectors.js");t.getAgentEntities=n,t.loadAgentEntities=a,t.deleteEntity=s,t.getEntityIntents=i,t.loadEntityIntents=c;var g=regeneratorRuntime.mark(n),f=regeneratorRuntime.mark(a),l=regeneratorRuntime.mark(s),m=regeneratorRuntime.mark(i),k=regeneratorRuntime.mark(c);t.default=[a,s,c]}});
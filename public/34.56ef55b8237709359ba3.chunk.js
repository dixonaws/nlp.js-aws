webpackJsonp([34],{"./app/containers/GlobalSettingsPage/sagas.js":function(e,t,r){"use strict";function n(e){var t,n,s,a,i;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.api,p.next=3,r.i(c.select)(r.i(l.b)());case 3:return n=p.sent,p.prev=4,p.next=7,r.i(c.call)(t.settings.putSettings,{body:n});case 7:return s=p.sent,a=s.obj,p.next=11,r.i(c.put)(r.i(u.g)(a));case 11:return p.next=13,r.i(c.put)(r.i(o.push)("/settings/global"));case 13:p.next=30;break;case 15:if(p.prev=15,p.t0=p.catch(4),i={err:p.t0},!i.err||"Failed to fetch"!==i.err.message){p.next=23;break}return p.next=21,r.i(c.put)(r.i(u.h)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 21:p.next=30;break;case 23:if(!i.err.response.obj||!i.err.response.obj.message){p.next=28;break}return p.next=26,r.i(c.put)(r.i(u.h)({message:i.err.response.obj.message}));case 26:p.next=30;break;case 28:return p.next=30,r.i(c.put)(r.i(u.h)({message:"Unknow API error"}));case 30:case"end":return p.stop()}},x,this,[[4,15]])}function s(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.i(c.takeLatest)(p._16,n);case 2:return e=t.sent,t.next=5,r.i(c.take)(o.LOCATION_CHANGE);case 5:return t.next=7,r.i(c.cancel)(e);case 7:case"end":return t.stop()}},m,this)}function a(e){var t,n,s,a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.api,n=e.id,o.prev=1,o.next=4,r.i(c.call)(t.settings.getSettings);case 4:return s=o.sent,a=s.obj,o.next=8,r.i(c.put)(r.i(u.i)(a));case 8:o.next=25;break;case 10:if(o.prev=10,o.t0=o.catch(1),i={err:o.t0},!i.err||"Failed to fetch"!==i.err.message){o.next=18;break}return o.next=16,r.i(c.put)(r.i(u.j)({message:"Can't find a connection with the API. Please check your API is alive and configured properly."}));case 16:o.next=25;break;case 18:if(!i.err.response.obj||!i.err.response.obj.message){o.next=23;break}return o.next=21,r.i(c.put)(r.i(u.j)({message:i.err.response.obj.message}));case 21:o.next=25;break;case 23:return o.next=25,r.i(c.put)(r.i(u.j)({message:"Unknow API error"}));case 25:case"end":return o.stop()}},b,this,[[1,10]])}function i(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.i(c.takeLatest)(p._36,a);case 2:return e=t.sent,t.next=5,r.i(c.take)(o.LOCATION_CHANGE);case 5:return t.next=7,r.i(c.cancel)(e);case 7:case"end":return t.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0});var o=r("./node_modules/react-router-redux/lib/index.js"),c=(r.n(o),r("./node_modules/redux-saga/effects.js")),u=(r.n(c),r("./app/containers/App/actions.js")),p=r("./app/containers/App/constants.js"),l=r("./app/containers/App/selectors.js"),g=r("./node_modules/seamless-immutable/seamless-immutable.development.js");r.n(g);t.putGlobalSettings=n,t.updateGlobalSettings=s,t.getGlobalSettings=a,t.loadGlobalSettings=i;var x=regeneratorRuntime.mark(n),m=regeneratorRuntime.mark(s),b=regeneratorRuntime.mark(a),d=regeneratorRuntime.mark(i);t.default=[s,i]}});